<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="upload.js"></script>

<div class="upload-container">Drop files here or 
	<div class="upload-button" style="margin-left: 10px">
		<span>Select</span>
		<input type="file">
	</div>
</div>

<div class="upload-files">
	<!-- Uploaded files will be show here -->
</div>

<script>
	$(".upload-container").initUpload({
		url: "upload.php",
		mimetypes: [
			"video/*",
			"image/jpeg"
		],
		sizeMax: 9999996999,
		sizeMin: 0,
		upload: function(data) {
			$(".upload-files").append("<div class='file' id='file-" + data.index + "'>" + 
					"Index: " + data.index + "<br>" +
					"Filename: " + data.file.name + "<br>" +
					"Filesize: " + bytesToSize(data.file.size) + "<br>" +
					"Filetype: " + data.file.type + "<br>" +
					"<span class='status'></span><br>" +
				"</div>"
			);
		}, 
		uploading: function(data) {
			$(".upload-files #file-" + data.index + " .status").html(data.percent + "%");
		}, 
		success: function(data) {
			$(".upload-files #file-" + data.index + " .status").html("Uploaded");
		}, 
		error: function(data) {
			console.log(data.index, "Error: " + data.response.responseText);
			$(".upload-files #file-" + data.index + " .status").html("Error: " + data.response.responseText);
		},
		complete: function(data) {

		}
	});

	function bytesToSize(bytes) {
	   var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
	   if (bytes == 0) return '0 Byte';
	   var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));
	   return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];
	};
</script>

<style>
	html, body {
		font-family: "Franklin Gothic Medium", "Franklin Gothic", "ITC Franklin Gothic", Arial, sans-serif;
	}

	.upload-container {
		display: flex;
		border: 4px dashed #aaa; 
		width: 400px; 
		height: 128px;
 		align-items: center;
		justify-content: center;
		font-size: 18px;
		color: #aaa;
		transition: color 0.5s, border-color 0.5s;
	}

	.upload-container.focus {
		border-color: #666;
		color: #333;
	}

	.upload-container .upload-button {
		position: relative;
		display: block;
		width: 140px;
		height: 32px;
		border: 1px solid #aaa;
		border-radius: 4px;
		background-color: transparent;
		transition: background-color 0.3s;
	}

	.upload-container .upload-button:hover {
		background-color: #ddd;
	}

	.upload-container .upload-button input[type="file"] {
		position: absolute;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		opacity: 0;
		z-index: 1;
	}

	.upload-container .upload-button span {
		position: absolute;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
	}

	.upload-files .upload-progress {
		width: 0;
		height: 8px;
		background: red;
	}

	.upload-files .file {
		border: 1px solid gray;
		padding: 16px;
	}
</style>